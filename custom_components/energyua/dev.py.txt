import asyncio
import datetime

import aiohttp
from homeassistant.util import dt as dt_util

from energyua.api import EnergyUAApiClient

TIMEFRAME_TO_CHECK = datetime.timedelta(hours=24)


async def main():
    client = EnergyUAApiClient()

    try:
        await client.fetch_regions()
        client.region = "energy-ua.info"
        await client.fetch_groups()
        client.group = "2-2"
        await client.fetch_periods()
        print(client.periods)
    finally:
        await session.close()


if __name__ == "__main__":
    asyncio.run(main())
